{"ast":null,"code":"import _classCallCheck from \"D:\\\\BTOZ\\\\Agogo\\\\agogo-pos-web-app-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\BTOZ\\\\Agogo\\\\agogo-pos-web-app-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\BTOZ\\\\Agogo\\\\agogo-pos-web-app-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\BTOZ\\\\Agogo\\\\agogo-pos-web-app-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\BTOZ\\\\Agogo\\\\agogo-pos-web-app-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { Container } from 'unstated';\nimport axios from 'axios';\n\nvar ProductsContainer =\n/*#__PURE__*/\nfunction (_Container) {\n  _inherits(ProductsContainer, _Container);\n\n  function ProductsContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductsContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductsContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      products: [],\n      productsFiltered: [],\n      filterKeyword: \"Semua Item\",\n      searchKeyword: '',\n      footerNvaBarHeight: 114,\n      windowInnerHeight: 0,\n      productItemsHeight: 0,\n      activeCatClass: 'cat-0'\n    };\n    return _this;\n  }\n\n  _createClass(ProductsContainer, [{\n    key: \"fetchProducts\",\n    value: function fetchProducts() {\n      var _this2 = this;\n\n      // axios.get(`http://gigit.store/wp-json/wp/v2/product?_embed`)\n      axios.get(\"http://dev.wakwaw.com/agogo/wp-json/wp/v2/produk?_embed\").then(function (res) {\n        var products = res.data;\n\n        _this2.setState({\n          products: products\n        }, function () {\n          _this2.productsFiltered();\n\n          sessionStorage.setItem('products', JSON.stringify(products));\n          console.log(products);\n        });\n      });\n    } // CARI PRODUK\n\n  }, {\n    key: \"productsSearch\",\n    value: function productsSearch() {\n      var products = this.state.products;\n      var searchKeyword = this.state.searchKeyword;\n      var productsSearch = products.filter(function (product) {\n        // return product.title.rendered === searchKeyword;\n        return product.title.rendered.toString().toLowerCase().search(searchKeyword.toLowerCase()) !== -1;\n      });\n      this.setState({\n        productsFiltered: productsSearch,\n        activeCatClass: ''\n      }, function () {\n        console.log(\"searchKeyword => \", searchKeyword);\n        console.log(\"productsFiltered => \", productsSearch);\n      });\n    }\n  }, {\n    key: \"setSearchKeyword\",\n    value: function setSearchKeyword(keyword) {\n      var _this3 = this;\n\n      console.log(\"CATEGORY => \", keyword);\n      this.setState({\n        searchKeyword: keyword\n      }, function () {\n        _this3.productsSearch();\n      });\n    } // FILTER KATEGORI\n\n  }, {\n    key: \"productsFiltered\",\n    value: function productsFiltered() {\n      var products = this.state.products;\n      var filterKeyword = this.state.filterKeyword;\n      var productsFiltered = products.filter(function (product) {\n        return product.kategori[0] === filterKeyword;\n      });\n\n      if (filterKeyword === \"Semua Item\") {\n        this.setState({\n          productsFiltered: products\n        });\n      } else {\n        this.setState({\n          productsFiltered: productsFiltered\n        });\n      }\n    }\n  }, {\n    key: \"setFilteredKeyword\",\n    value: function setFilteredKeyword(keyword) {\n      var _this4 = this;\n\n      console.log(\"CATEGORY => \", keyword);\n      this.setState({\n        filterKeyword: keyword\n      }, function () {\n        _this4.productsFiltered();\n      });\n    }\n  }, {\n    key: \"setProductItemsHeight\",\n    value: function setProductItemsHeight() {\n      var _this5 = this;\n\n      this.setState({\n        windowInnerHeight: window.innerHeight\n      }, function () {\n        _this5.setState({\n          productItemsHeight: _this5.state.windowInnerHeight - _this5.state.footerNvaBarHeight\n        });\n      });\n    }\n  }]);\n\n  return ProductsContainer;\n}(Container);\n\nexport default ProductsContainer;","map":{"version":3,"sources":["D:\\BTOZ\\Agogo\\agogo-pos-web-app-master\\src\\containers\\ProductsContainer.js"],"names":["Container","axios","ProductsContainer","state","products","productsFiltered","filterKeyword","searchKeyword","footerNvaBarHeight","windowInnerHeight","productItemsHeight","activeCatClass","get","then","res","data","setState","sessionStorage","setItem","JSON","stringify","console","log","productsSearch","filter","product","title","rendered","toString","toLowerCase","search","keyword","kategori","window","innerHeight"],"mappings":"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","sourcesContent":["import { Container } from 'unstated'\nimport axios from 'axios'\n\nclass ProductsContainer extends Container {\n\n  state = {\n    products: [],\n    productsFiltered: [],\n    filterKeyword: \"Semua Item\",\n    searchKeyword: '',\n    footerNvaBarHeight: 114,\n    windowInnerHeight: 0,\n    productItemsHeight: 0,\n    activeCatClass: 'cat-0'\n  }\n\n  fetchProducts() {\n    // axios.get(`http://gigit.store/wp-json/wp/v2/product?_embed`)\n    axios.get(`http://dev.wakwaw.com/agogo/wp-json/wp/v2/produk?_embed`)\n    .then(res => {\n      const products = res.data;\n      this.setState({ \n        products: products,\n      }, \n        () => {\n          this.productsFiltered()\n\n          sessionStorage.setItem('products', JSON.stringify(products));\n          console.log(products)\n        }\n      );\n    })\n  }\n\n  // CARI PRODUK\n  productsSearch() {\n    let products = this.state.products\n    let searchKeyword = this.state.searchKeyword\n\n    let productsSearch =  products.filter(function(product) {\n      // return product.title.rendered === searchKeyword;\n      return product.title.rendered.toString().toLowerCase().search(searchKeyword.toLowerCase()) !== -1;\n    });\n\n    this.setState({ \n      productsFiltered: productsSearch,\n      activeCatClass: ''\n    },()=>{\n      console.log(\"searchKeyword => \", searchKeyword)\n      console.log(\"productsFiltered => \", productsSearch)\n    })\n    \n  }\n\n  setSearchKeyword(keyword) {\n    console.log(\"CATEGORY => \", keyword)\n    this.setState({ \n      searchKeyword: keyword\n    }, \n      () => {\n        this.productsSearch()\n      }\n    )\n  }\n\n  // FILTER KATEGORI\n  productsFiltered(){\n    let products = this.state.products\n    let filterKeyword = this.state.filterKeyword\n\n    let productsFiltered =  products.filter(function(product) {\n      return product.kategori[0] === filterKeyword;\n    });\n\n    if(filterKeyword === \"Semua Item\"){\n      this.setState({ \n        productsFiltered: products\n      })\n    }else{\n      this.setState({ \n        productsFiltered: productsFiltered\n      })\n    }\n  }\n\n  setFilteredKeyword(keyword) {\n    console.log(\"CATEGORY => \", keyword)\n    this.setState({ \n      filterKeyword: keyword\n    }, \n      () => {\n        this.productsFiltered()\n      }\n    )\n  }\n\n  setProductItemsHeight(){\n    this.setState({\n      windowInnerHeight: window.innerHeight\n    },\n      () => {\n        this.setState({\n          productItemsHeight: this.state.windowInnerHeight - this.state.footerNvaBarHeight\n        })\n      }\n    );\n  }\n\n}\n\nexport default ProductsContainer;\n"]},"metadata":{},"sourceType":"module"}